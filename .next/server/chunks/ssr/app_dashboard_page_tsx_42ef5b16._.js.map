{"version":3,"sources":["../../../../app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\n\ninterface Player {\n  id: number;\n  nickname: string;\n  email: string;\n  licenseNumber: string;\n  singleRankingPoints: number | null;\n}\n\ninterface MatchPlayer {\n  id: number;\n  nickname: string;\n}\n\ninterface Match {\n  id: number;\n  player1Id: number;\n  player2Id: number;\n  player1Sets: number;\n  player2Sets: number;\n  set1Player1Score: number | null;\n  set1Player2Score: number | null;\n  set2Player1Score: number | null;\n  set2Player2Score: number | null;\n  set3Player1Score: number | null;\n  set3Player2Score: number | null;\n  matchDate: string;\n  month: number;\n  year: number;\n  player1: MatchPlayer;\n  player2: MatchPlayer;\n}\n\ninterface RankingEntry {\n  playerId: number;\n  nickname: string;\n  wins: number;\n  losses: number;\n  points: number;\n}\n\ninterface Maillot {\n  playerId: number;\n  nickname: string;\n  count?: number;\n  wins?: number;\n  matchCount?: number;\n  points?: number;\n}\n\ninterface RankingData {\n  generalRanking: RankingEntry[];\n  maillots: {\n    jaune: Maillot | null;\n    points: Maillot | null;\n    vert: Maillot | null;\n    blanc: Maillot | null;\n  };\n  month: number;\n  year: number;\n}\n\nexport default function DashboardPage() {\n  const router = useRouter();\n  const [player, setPlayer] = useState<Player | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [matches, setMatches] = useState<Match[]>([]);\n  const [players, setPlayers] = useState<Array<{ id: number; nickname: string }>>([]);\n  const [showMatchForm, setShowMatchForm] = useState(false);\n  const [matchForm, setMatchForm] = useState({\n    player2Id: \"\",\n    matchDate: new Date().toISOString().split(\"T\")[0],\n    sets: [\n      { player1Score: \"\", player2Score: \"\" },\n      { player1Score: \"\", player2Score: \"\" },\n    ],\n  });\n  const [showThirdSet, setShowThirdSet] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [matchError, setMatchError] = useState(\"\");\n  const [editingMatchId, setEditingMatchId] = useState<number | null>(null);\n  const [rankingData, setRankingData] = useState<RankingData | null>(null);\n\n  useEffect(() => {\n    // V√©rifier si l'utilisateur est connect√©\n    fetch(\"/api/auth/me\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.player) {\n          setPlayer(data.player);\n          // Charger les matchs\n          loadMatches();\n          // Charger la liste des joueurs (en excluant le joueur connect√©)\n          loadPlayers(data.player.id);\n          // Charger le classement et les maillots\n          loadRanking();\n        } else {\n          // Pas connect√©, rediriger vers la page de connexion\n          router.push(\"/login\");\n        }\n        setLoading(false);\n      })\n      .catch(() => {\n        setLoading(false);\n        router.push(\"/login\");\n      });\n  }, [router]);\n\n  const loadMatches = async () => {\n    try {\n      const response = await fetch(\"/api/matches\");\n      const data = await response.json();\n      if (response.ok) {\n        setMatches(data.matches || []);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des matchs:\", error);\n    }\n  };\n\n  const loadPlayers = async (currentPlayerId: number) => {\n    try {\n      const response = await fetch(\"/api/players/list\");\n      const data = await response.json();\n      if (response.ok) {\n        // Exclure le joueur connect√© de la liste\n        const filteredPlayers = (data.players || []).filter(\n          (p: { id: number }) => p.id !== currentPlayerId\n        );\n        setPlayers(filteredPlayers);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement des joueurs:\", error);\n    }\n  };\n\n  const loadRanking = async () => {\n    try {\n      const response = await fetch(\"/api/ranking\");\n      const data = await response.json();\n      if (response.ok) {\n        setRankingData(data);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du chargement du classement:\", error);\n    }\n  };\n\n  const handleSubmitMatch = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setMatchError(\"\");\n    setSubmitting(true);\n\n    try {\n      const player2Id = parseInt(matchForm.player2Id);\n      \n      // Pr√©parer les sets (2 ou 3)\n      const setsToSend = showThirdSet && matchForm.sets[2]?.player1Score && matchForm.sets[2]?.player2Score\n        ? matchForm.sets.slice(0, 3)\n        : matchForm.sets.slice(0, 2);\n\n      // V√©rifier que tous les sets ont des scores\n      if (!setsToSend.every(set => set.player1Score && set.player2Score)) {\n        setMatchError(\"Tous les sets doivent avoir des scores\");\n        setSubmitting(false);\n        return;\n      }\n\n      const isEditing = editingMatchId !== null;\n      const url = isEditing ? `/api/matches/${editingMatchId}` : \"/api/matches\";\n      const method = isEditing ? \"PUT\" : \"POST\";\n\n      const response = await fetch(url, {\n        method,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          player2Id,\n          matchDate: matchForm.matchDate,\n          sets: setsToSend.map(set => ({\n            player1Score: parseInt(set.player1Score),\n            player2Score: parseInt(set.player2Score),\n          })),\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setMatchError(data.error || \"Une erreur est survenue\");\n        setSubmitting(false);\n        return;\n      }\n\n      // R√©initialiser le formulaire et recharger les matchs\n      setMatchForm({\n        player2Id: \"\",\n        matchDate: new Date().toISOString().split(\"T\")[0],\n        sets: [\n          { player1Score: \"\", player2Score: \"\" },\n          { player1Score: \"\", player2Score: \"\" },\n        ],\n      });\n      setShowThirdSet(false);\n      setShowMatchForm(false);\n      setEditingMatchId(null);\n      await loadMatches();\n      await loadRanking();\n      setSubmitting(false);\n    } catch (error) {\n      setMatchError(editingMatchId !== null ? \"Une erreur est survenue lors de la modification du match\" : \"Une erreur est survenue lors de la cr√©ation du match\");\n      setSubmitting(false);\n    }\n  };\n\n  const handleEditMatch = (match: Match) => {\n    const isPlayer1 = match.player1Id === player?.id;\n    \n    // Pr√©parer les sets\n    const sets = [\n      {\n        player1Score: isPlayer1 \n          ? (match.set1Player1Score?.toString() || \"\")\n          : (match.set1Player2Score?.toString() || \"\"),\n        player2Score: isPlayer1\n          ? (match.set1Player2Score?.toString() || \"\")\n          : (match.set1Player1Score?.toString() || \"\"),\n      },\n      {\n        player1Score: isPlayer1\n          ? (match.set2Player1Score?.toString() || \"\")\n          : (match.set2Player2Score?.toString() || \"\"),\n        player2Score: isPlayer1\n          ? (match.set2Player2Score?.toString() || \"\")\n          : (match.set2Player1Score?.toString() || \"\"),\n      },\n    ];\n\n    // Ajouter le set 3 si pr√©sent\n    if (match.set3Player1Score !== null && match.set3Player2Score !== null) {\n      sets.push({\n        player1Score: isPlayer1\n          ? (match.set3Player1Score.toString() || \"\")\n          : (match.set3Player2Score.toString() || \"\"),\n        player2Score: isPlayer1\n          ? (match.set3Player2Score.toString() || \"\")\n          : (match.set3Player1Score.toString() || \"\"),\n      });\n      setShowThirdSet(true);\n    } else {\n      setShowThirdSet(false);\n    }\n\n    // Formater la date pour l'input date\n    const matchDate = new Date(match.matchDate);\n    const dateStr = matchDate.toISOString().split(\"T\")[0];\n\n    setMatchForm({\n      player2Id: (isPlayer1 ? match.player2Id : match.player1Id).toString(),\n      matchDate: dateStr,\n      sets,\n    });\n\n    setEditingMatchId(match.id);\n    setShowMatchForm(true);\n    setMatchError(\"\");\n  };\n\n  const handleCancelEdit = () => {\n    setMatchForm({\n      player2Id: \"\",\n      matchDate: new Date().toISOString().split(\"T\")[0],\n      sets: [\n        { player1Score: \"\", player2Score: \"\" },\n        { player1Score: \"\", player2Score: \"\" },\n      ],\n    });\n    setShowThirdSet(false);\n    setShowMatchForm(false);\n    setEditingMatchId(null);\n    setMatchError(\"\");\n  };\n\n  const validateSetScore = (player1Score: number, player2Score: number): string | null => {\n    if (player1Score < 0 || player2Score < 0) return null; // Pas encore rempli\n    \n    const maxScore = Math.max(player1Score, player2Score);\n    const minScore = Math.min(player1Score, player2Score);\n    const diff = Math.abs(player1Score - player2Score);\n\n    // Le score maximum est 30\n    if (maxScore > 30) {\n      return \"Le score maximum est 30 points\";\n    }\n\n    // Si le gagnant a moins de 21, ce n'est pas valide\n    if (maxScore < 21) {\n      return \"Un set se gagne √† 21 points minimum\";\n    }\n\n    // Si le score maximum est 30, on peut gagner avec 1 ou 2 points d'√©cart\n    // 30-29 si on √©tait √† 29-29 (point d√©cisif)\n    // 30-28 si on √©tait √† 28-28 ou 29-28 puis arriv√©e √† 30-28\n    if (maxScore === 30) {\n      if (minScore < 28 || minScore > 29 || diff < 1 || diff > 2) {\n        return \"√Ä 30 points, le score doit √™tre 30-29 ou 30-28\";\n      }\n      return null; // Valide\n    } else if (maxScore === 21) {\n      // √Ä 21 points, si le perdant a 19 ou plus, il faut exactement 2 points d'√©cart\n      if (minScore >= 19 && diff !== 2) {\n        return \"Si les deux joueurs sont √† au moins 19 points, il faut exactement 2 points d'√©cart\";\n      }\n      // Si le perdant a moins de 19, l'√©cart peut √™tre 2 ou plus (21-8, 21-9, 21-3, etc.)\n      // Mais il faut quand m√™me un √©cart d'au moins 2 (21-20 n'est pas valide)\n      if (minScore < 19 && diff < 2) {\n        return \"Il faut au moins 2 points d'√©cart pour gagner\";\n      }\n      return null; // Valide\n    } else if (maxScore >= 22 && maxScore <= 29) {\n      // Si on d√©passe 21, c'est que les deux joueurs √©taient √† au moins 19\n      // Il faut exactement 2 points d'√©cart\n      if (diff !== 2) {\n        return \"Au-dessus de 21 points, il faut exactement 2 points d'√©cart (les deux joueurs √©taient √† au moins 19)\";\n      }\n      // Le perdant doit avoir au moins 19\n      if (minScore < 19) {\n        return \"Si on d√©passe 21 points, le perdant doit avoir au moins 19 points\";\n      }\n      return null; // Valide\n    }\n\n    return null; // Valide\n  };\n\n  const updateSetScore = (setIndex: number, field: \"player1Score\" | \"player2Score\", value: string) => {\n    // Emp√™cher les valeurs n√©gatives\n    if (value !== \"\" && value !== \"-\") {\n      const numValue = parseInt(value);\n      if (!isNaN(numValue) && numValue < 0) {\n        return; // Ne pas mettre √† jour si n√©gatif\n      }\n    }\n    \n    const newSets = [...matchForm.sets];\n    if (!newSets[setIndex]) {\n      newSets[setIndex] = { player1Score: \"\", player2Score: \"\" };\n    }\n    newSets[setIndex][field] = value;\n    setMatchForm({ ...matchForm, sets: newSets });\n\n    // Si on remplit le set 2 et qu'il y a √©galit√© (1-1), proposer le set 3\n    if (setIndex === 1 && newSets[0].player1Score && newSets[0].player2Score && newSets[1].player1Score && newSets[1].player2Score) {\n      const set1Score1 = parseInt(newSets[0].player1Score);\n      const set1Score2 = parseInt(newSets[0].player2Score);\n      const set2Score1 = parseInt(newSets[1].player1Score);\n      const set2Score2 = parseInt(newSets[1].player2Score);\n      \n      if (!isNaN(set1Score1) && !isNaN(set1Score2) && !isNaN(set2Score1) && !isNaN(set2Score2)) {\n        const set1Winner = set1Score1 > set1Score2 ? 1 : 2;\n        const set2Winner = set2Score1 > set2Score2 ? 1 : 2;\n        if (set1Winner !== set2Winner) {\n          // √âgalit√© 1-1, permettre le set 3\n          if (!showThirdSet) {\n            setShowThirdSet(true);\n            if (newSets.length < 3) {\n              newSets.push({ player1Score: \"\", player2Score: \"\" });\n              setMatchForm({ ...matchForm, sets: newSets });\n            }\n          }\n        } else {\n          // 2-0, cacher le set 3\n          setShowThirdSet(false);\n        }\n      }\n    }\n  };\n\n  const handleLogout = async () => {\n    await fetch(\"/api/auth/logout\", { method: \"POST\" });\n    router.push(\"/\");\n  };\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-slate-900 text-slate-50 flex items-center justify-center\">\n        <p className=\"text-slate-400\">Chargement...</p>\n      </main>\n    );\n  }\n\n  if (!player) {\n    return null; // La redirection va se faire\n  }\n\n  return (\n    <main className=\"min-h-screen bg-slate-900 text-slate-50 flex flex-col\">\n      <header className=\"px-4 pt-10 pb-4 sm:px-6 flex items-center gap-4\">\n        <div className=\"shrink-0\">\n          <Image\n            src=\"/bap-logo.png\"\n            alt=\"Logo du club Bad' √† Paname\"\n            width={56}\n            height={56}\n            className=\"rounded-xl shadow-md\"\n            priority\n          />\n        </div>\n        <div className=\"flex-1\">\n          <h1 className=\"text-3xl font-bold tracking-tight\">\n            Ligue du BAP\n          </h1>\n          <p className=\"mt-1 text-sm text-slate-300 max-w-md\">\n            Bienvenue, {player.nickname} !\n          </p>\n        </div>\n        <button\n          onClick={handleLogout}\n          className=\"px-4 py-2 text-sm text-slate-400 hover:text-slate-200 transition\"\n        >\n          D√©connexion\n        </button>\n      </header>\n\n      <section className=\"px-4 sm:px-6 mt-4 flex-1\">\n        <div className=\"max-w-2xl mx-auto space-y-4\">\n          {/* Classement g√©n√©ral et maillots */}\n          {rankingData && (\n            <div className=\"bg-slate-800/60 border border-slate-700 rounded-2xl p-6 shadow-lg\">\n              <h2 className=\"text-xl font-semibold mb-4\">\n                Classement G√©n√©ral\n              </h2>\n              <p className=\"text-sm text-slate-400 mb-4\">\n                1 victoire = 1 point ‚Ä¢ 1 d√©faite = 0 point\n              </p>\n              \n              {rankingData.generalRanking.length === 0 ? (\n                <div className=\"text-slate-400 text-center py-4\">\n                  Aucun match jou√© encore\n                </div>\n              ) : (\n                <div className=\"space-y-2 mb-6\">\n                  {rankingData.generalRanking.map((entry, index) => (\n                    <div\n                      key={entry.playerId}\n                      className={`flex items-center justify-between p-3 rounded-lg ${\n                        index === 0\n                          ? \"bg-yellow-500/20 border border-yellow-500/30\"\n                          : index === 1\n                          ? \"bg-slate-700/50 border border-slate-600\"\n                          : index === 2\n                          ? \"bg-amber-600/20 border border-amber-600/30\"\n                          : \"bg-slate-700/30 border border-slate-700\"\n                      }`}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 text-center font-bold text-slate-300\">\n                          {index + 1}\n                        </div>\n                        <div>\n                          <div className=\"font-medium text-slate-100\">\n                            {entry.nickname}\n                            {index === 0 && rankingData.maillots.jaune && (\n                              <span className=\"ml-2 text-yellow-400\">üèÜ</span>\n                            )}\n                          </div>\n                          <div className=\"text-xs text-slate-400\">\n                            {entry.wins}V - {entry.losses}D\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-lg font-semibold text-emerald-400\">\n                        {entry.points} pt{entry.points > 1 ? \"s\" : \"\"}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Maillots */}\n              <div className=\"pt-6 border-t border-slate-700\">\n                <h3 className=\"text-lg font-semibold mb-4\">Maillots du mois</h3>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  {/* Maillot Jaune */}\n                  <div className=\"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <svg width=\"32\" height=\"32\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#EAB308\" stroke=\"#FCD34D\" strokeWidth=\"1.5\">\n                        <path d=\"M44 12.09c3.92 1.62 12 12 12 12l-8 8-4-4v24H20v-24l-4 4-8-8s8.08-10.38 12-12c.92-.39 4 0 4 0 0 4 4 8 8 8s8-4 8-8c0 0 3.08-.39 4 0z\"/>\n                      </svg>\n                      <h4 className=\"font-semibold text-yellow-400\">Maillot Jaune</h4>\n                    </div>\n                    <p className=\"text-xs text-slate-400 mb-2\">1er au classement g√©n√©ral</p>\n                    {rankingData.maillots.jaune ? (\n                      <div className=\"text-slate-100 font-medium\">\n                        {rankingData.maillots.jaune.nickname}\n                        <span className=\"text-sm text-slate-400 ml-2\">\n                          ({rankingData.maillots.jaune.points} pts)\n                        </span>\n                      </div>\n                    ) : (\n                      <div className=\"text-slate-500 text-sm\">Aucun</div>\n                    )}\n                  </div>\n\n                  {/* Maillot √† Pois */}\n                  <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <svg width=\"32\" height=\"32\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <defs>\n                          <clipPath id=\"shirt-clip\">\n                            <path d=\"M44 12.09c3.92 1.62 12 12 12 12l-8 8-4-4v24H20v-24l-4 4-8-8s8.08-10.38 12-12c.92-.39 4 0 4 0 0 4 4 8 8 8s8-4 8-8c0 0 3.08-.39 4 0z\"/>\n                          </clipPath>\n                        </defs>\n                        <path d=\"M44 12.09c3.92 1.62 12 12 12 12l-8 8-4-4v24H20v-24l-4 4-8-8s8.08-10.38 12-12c.92-.39 4 0 4 0 0 4 4 8 8 8s8-4 8-8c0 0 3.08-.39 4 0z\" fill=\"#FFFFFF\" stroke=\"#DC2626\" strokeWidth=\"1.5\"/>\n                        <g clipPath=\"url(#shirt-clip)\">\n                          {/* Pois rouges - motif r√©gulier en quinconce, espac√©s de 6 unit√©s horizontalement et 6 verticalement */}\n                          <circle cx=\"22\" cy=\"24\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"32\" cy=\"24\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"42\" cy=\"24\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"27\" cy=\"30\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"37\" cy=\"30\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"22\" cy=\"36\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"32\" cy=\"36\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"42\" cy=\"36\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"27\" cy=\"42\" r=\"2\" fill=\"#DC2626\"/>\n                          <circle cx=\"37\" cy=\"42\" r=\"2\" fill=\"#DC2626\"/>\n                        </g>\n                      </svg>\n                      <h4 className=\"font-semibold text-red-400\">Maillot √† Pois</h4>\n                    </div>\n                    <p className=\"text-xs text-slate-400 mb-2\">\n                      Plus de victoires contre mieux class√©s (d√©but du mois)\n                    </p>\n                    {rankingData.maillots.points ? (\n                      <div className=\"text-slate-100 font-medium\">\n                        {rankingData.maillots.points.nickname}\n                        <span className=\"text-sm text-slate-400 ml-2\">\n                          ({rankingData.maillots.points.count ?? 0} victoire{(rankingData.maillots.points.count ?? 0) > 1 ? \"s\" : \"\"})\n                        </span>\n                      </div>\n                    ) : (\n                      <div className=\"text-slate-500 text-sm\">Aucun</div>\n                    )}\n                  </div>\n\n                  {/* Maillot Vert */}\n                  <div className=\"bg-green-500/10 border border-green-500/30 rounded-lg p-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <svg width=\"32\" height=\"32\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#22C55E\" stroke=\"#4ADE80\" strokeWidth=\"1.5\">\n                        <path d=\"M44 12.09c3.92 1.62 12 12 12 12l-8 8-4-4v24H20v-24l-4 4-8-8s8.08-10.38 12-12c.92-.39 4 0 4 0 0 4 4 8 8 8s8-4 8-8c0 0 3.08-.39 4 0z\"/>\n                      </svg>\n                      <h4 className=\"font-semibold text-green-400\">Maillot Vert</h4>\n                    </div>\n                    <p className=\"text-xs text-slate-400 mb-2\">\n                      Plus de victoires la derni√®re semaine du mois\n                    </p>\n                    {rankingData.maillots.vert ? (\n                      <div className=\"text-slate-100 font-medium\">\n                        {rankingData.maillots.vert.nickname}\n                        <span className=\"text-sm text-slate-400 ml-2\">\n                          ({rankingData.maillots.vert.wins ?? 0} victoire{(rankingData.maillots.vert.wins ?? 0) > 1 ? \"s\" : \"\"})\n                        </span>\n                      </div>\n                    ) : (\n                      <div className=\"text-slate-500 text-sm\">Aucun</div>\n                    )}\n                  </div>\n\n                  {/* Maillot Blanc */}\n                  <div className=\"bg-slate-600/30 border border-slate-500/50 rounded-lg p-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <svg width=\"32\" height=\"32\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#E2E8F0\" stroke=\"#F1F5F9\" strokeWidth=\"1.5\">\n                        <path d=\"M44 12.09c3.92 1.62 12 12 12 12l-8 8-4-4v24H20v-24l-4 4-8-8s8.08-10.38 12-12c.92-.39 4 0 4 0 0 4 4 8 8 8s8-4 8-8c0 0 3.08-.39 4 0z\"/>\n                      </svg>\n                      <h4 className=\"font-semibold text-slate-300\">Maillot du plus combatif</h4>\n                    </div>\n                    <p className=\"text-xs text-slate-400 mb-2\">\n                      Plus de matchs jou√©s ce mois\n                    </p>\n                    {rankingData.maillots.blanc ? (\n                      <div className=\"text-slate-100 font-medium\">\n                        {rankingData.maillots.blanc.nickname}\n                        <span className=\"text-sm text-slate-400 ml-2\">\n                          ({rankingData.maillots.blanc.matchCount ?? 0} match{(rankingData.maillots.blanc.matchCount ?? 0) > 1 ? \"s\" : \"\"})\n                        </span>\n                      </div>\n                    ) : (\n                      <div className=\"text-slate-500 text-sm\">Aucun</div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Classement de simple */}\n          <div className=\"bg-slate-800/60 border border-slate-700 rounded-2xl p-6 shadow-lg\">\n            <h2 className=\"text-xl font-semibold mb-4\">\n              Classement Simple\n            </h2>\n            {player.singleRankingPoints !== null ? (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"bg-emerald-500/20 text-emerald-400 rounded-lg px-4 py-3 font-semibold text-xl\">\n                      {player.singleRankingPoints}\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-slate-200 font-medium\">Points</p>\n                      <p className=\"text-sm text-slate-400\">Classement FFBaD</p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"pt-3 border-t border-slate-700\">\n                  <a\n                    href={`https://www.myffbad.fr/joueur/${player.licenseNumber}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-sm text-emerald-400 hover:text-emerald-300 inline-flex items-center gap-1\"\n                  >\n                    Voir sur myffbad.fr ‚Üí\n                  </a>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-slate-400\">\n                <p>Classement non disponible</p>\n                <p className=\"text-sm mt-1\">\n                  Le classement n'a pas pu √™tre r√©cup√©r√© automatiquement.\n                </p>\n                <button\n                  onClick={async () => {\n                    try {\n                      const response = await fetch(\"/api/players/update-ranking\", {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({ licenseNumber: player.licenseNumber }),\n                      });\n                      const data = await response.json();\n                      if (data.success) {\n                        // Recharger les donn√©es du joueur\n                        window.location.reload();\n                      } else {\n                        alert(\"Erreur lors de la mise √† jour: \" + (data.error || \"Erreur inconnue\"));\n                      }\n                    } catch (error) {\n                      alert(\"Erreur lors de la mise √† jour du classement\");\n                    }\n                  }}\n                  className=\"mt-3 px-4 py-2 bg-emerald-500/20 text-emerald-400 rounded-lg hover:bg-emerald-500/30 transition text-sm\"\n                >\n                  Essayer de mettre √† jour\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Saisie de match */}\n          <div className=\"bg-slate-800/60 border border-slate-700 rounded-2xl p-6 shadow-lg\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-semibold\">Mes matchs</h2>\n              <button\n                onClick={() => {\n                  if (showMatchForm) {\n                    handleCancelEdit();\n                  } else {\n                    setShowMatchForm(true);\n                  }\n                }}\n                className=\"px-4 py-2 bg-emerald-500 text-slate-900 font-medium rounded-lg hover:bg-emerald-400 transition text-sm\"\n              >\n                {showMatchForm ? \"Annuler\" : \"+ Nouveau match\"}\n              </button>\n            </div>\n\n            {showMatchForm && (\n              <form onSubmit={handleSubmitMatch} className=\"mb-6 space-y-4 p-4 bg-slate-700/50 rounded-lg\">\n                {matchError && (\n                  <div className=\"text-red-400 text-sm bg-red-500/20 border border-red-500/50 rounded-lg p-3\">\n                    {matchError}\n                  </div>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    Adversaire\n                  </label>\n                  {players.length === 0 ? (\n                    <div className=\"bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-3 text-slate-400 text-sm\">\n                      Aucun adversaire disponible. Demandez √† d'autres joueurs de s'inscrire !\n                    </div>\n                  ) : (\n                    <select\n                      value={matchForm.player2Id}\n                      onChange={(e) => setMatchForm({ ...matchForm, player2Id: e.target.value })}\n                      className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                      required\n                    >\n                      <option value=\"\">S√©lectionner un adversaire</option>\n                      {players.map((p) => (\n                        <option key={p.id} value={p.id}>\n                          {p.nickname}\n                        </option>\n                      ))}\n                    </select>\n                  )}\n                </div>\n\n                {/* Info sur les r√®gles */}\n                <div className=\"bg-slate-700/30 border border-slate-600 rounded-lg p-3 text-xs text-slate-400\">\n                  <p className=\"font-medium text-slate-300 mb-1\">R√®gles du badminton :</p>\n                  <p>‚Ä¢ Set gagn√© √† 21 points</p>\n                  <p>‚Ä¢ Si les deux joueurs sont √† au moins 19 points, il faut 2 points d'√©cart</p>\n                  <p>‚Ä¢ Sinon, au moins 2 points d'√©cart (21-3, 21-8, etc.)</p>\n                  <p>‚Ä¢ Maximum 30 points (30-29 ou 30-28)</p>\n                  <p>‚Ä¢ Exemples : 21-3, 21-8, 21-19, 22-20, 28-26, 30-29, 30-28</p>\n                </div>\n\n                {/* Set 1 */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    Set 1 - Scores\n                  </label>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        inputMode=\"numeric\"\n                        pattern=\"[0-9]*\"\n                        placeholder=\"Vous\"\n                        value={matchForm.sets[0]?.player1Score || \"\"}\n                        onChange={(e) => updateSetScore(0, \"player1Score\", e.target.value)}\n                        onKeyDown={(e) => {\n                          const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                          const isDigit = /^\\d$/.test(e.key);\n                          if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                            e.preventDefault();\n                          }\n                        }}\n                        onPaste={(e) => {\n                          e.preventDefault();\n                          const pastedText = e.clipboardData.getData('text');\n                          if (/^\\d+$/.test(pastedText)) {\n                            updateSetScore(0, \"player1Score\", pastedText);\n                          }\n                        }}\n                        className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                        required\n                      />\n                    </div>\n                    <span className=\"text-slate-400\">-</span>\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        inputMode=\"numeric\"\n                        pattern=\"[0-9]*\"\n                        placeholder=\"Adversaire\"\n                        value={matchForm.sets[0]?.player2Score || \"\"}\n                        onChange={(e) => updateSetScore(0, \"player2Score\", e.target.value)}\n                        onKeyDown={(e) => {\n                          const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                          const isDigit = /^\\d$/.test(e.key);\n                          if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                            e.preventDefault();\n                          }\n                        }}\n                        onPaste={(e) => {\n                          e.preventDefault();\n                          const pastedText = e.clipboardData.getData('text');\n                          if (/^\\d+$/.test(pastedText)) {\n                            updateSetScore(0, \"player2Score\", pastedText);\n                          }\n                        }}\n                        className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                        required\n                      />\n                    </div>\n                  </div>\n                  {matchForm.sets[0]?.player1Score && matchForm.sets[0]?.player2Score && (() => {\n                    const error = validateSetScore(parseInt(matchForm.sets[0].player1Score), parseInt(matchForm.sets[0].player2Score));\n                    return error ? (\n                      <p className=\"text-xs text-red-400 mt-1\">{error}</p>\n                    ) : null;\n                  })()}\n                </div>\n\n                {/* Set 2 */}\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    Set 2 - Scores\n                  </label>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        inputMode=\"numeric\"\n                        pattern=\"[0-9]*\"\n                        placeholder=\"Vous\"\n                        value={matchForm.sets[1]?.player1Score || \"\"}\n                        onChange={(e) => updateSetScore(1, \"player1Score\", e.target.value)}\n                        onKeyDown={(e) => {\n                          const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                          const isDigit = /^\\d$/.test(e.key);\n                          if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                            e.preventDefault();\n                          }\n                        }}\n                        onPaste={(e) => {\n                          e.preventDefault();\n                          const pastedText = e.clipboardData.getData('text');\n                          if (/^\\d+$/.test(pastedText)) {\n                            updateSetScore(1, \"player1Score\", pastedText);\n                          }\n                        }}\n                        className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                        required\n                      />\n                    </div>\n                    <span className=\"text-slate-400\">-</span>\n                    <div className=\"flex-1\">\n                      <input\n                        type=\"text\"\n                        inputMode=\"numeric\"\n                        pattern=\"[0-9]*\"\n                        placeholder=\"Adversaire\"\n                        value={matchForm.sets[1]?.player2Score || \"\"}\n                        onChange={(e) => updateSetScore(1, \"player2Score\", e.target.value)}\n                        onKeyDown={(e) => {\n                          const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                          const isDigit = /^\\d$/.test(e.key);\n                          if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                            e.preventDefault();\n                          }\n                        }}\n                        onPaste={(e) => {\n                          e.preventDefault();\n                          const pastedText = e.clipboardData.getData('text');\n                          if (/^\\d+$/.test(pastedText)) {\n                            updateSetScore(1, \"player2Score\", pastedText);\n                          }\n                        }}\n                        className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                        required\n                      />\n                    </div>\n                  </div>\n                  {matchForm.sets[1]?.player1Score && matchForm.sets[1]?.player2Score && (() => {\n                    const error = validateSetScore(parseInt(matchForm.sets[1].player1Score), parseInt(matchForm.sets[1].player2Score));\n                    return error ? (\n                      <p className=\"text-xs text-red-400 mt-1\">{error}</p>\n                    ) : null;\n                  })()}\n                </div>\n\n                {/* Set 3 (optionnel, si √©galit√© 1-1) */}\n                {showThirdSet && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      Set 3 - Scores (match d√©cisif)\n                    </label>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"flex-1\">\n                        <input\n                          type=\"text\"\n                          inputMode=\"numeric\"\n                          pattern=\"[0-9]*\"\n                          placeholder=\"Vous\"\n                          value={matchForm.sets[2]?.player1Score || \"\"}\n                          onChange={(e) => updateSetScore(2, \"player1Score\", e.target.value)}\n                          onKeyDown={(e) => {\n                            const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                            const isDigit = /^\\d$/.test(e.key);\n                            if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                              e.preventDefault();\n                            }\n                          }}\n                          onPaste={(e) => {\n                            e.preventDefault();\n                            const pastedText = e.clipboardData.getData('text');\n                            if (/^\\d+$/.test(pastedText)) {\n                              updateSetScore(2, \"player1Score\", pastedText);\n                            }\n                          }}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                          required={showThirdSet}\n                        />\n                      </div>\n                      <span className=\"text-slate-400\">-</span>\n                      <div className=\"flex-1\">\n                        <input\n                          type=\"text\"\n                          inputMode=\"numeric\"\n                          pattern=\"[0-9]*\"\n                          placeholder=\"Adversaire\"\n                          value={matchForm.sets[2]?.player2Score || \"\"}\n                          onChange={(e) => updateSetScore(2, \"player2Score\", e.target.value)}\n                          onKeyDown={(e) => {\n                            const allowedKeys = ['Backspace', 'Delete', 'Tab', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'];\n                            const isDigit = /^\\d$/.test(e.key);\n                            if (!isDigit && !allowedKeys.includes(e.key) && !(e.ctrlKey && (e.key === 'a' || e.key === 'c' || e.key === 'v' || e.key === 'x'))) {\n                              e.preventDefault();\n                            }\n                          }}\n                          onPaste={(e) => {\n                            e.preventDefault();\n                            const pastedText = e.clipboardData.getData('text');\n                            if (/^\\d+$/.test(pastedText)) {\n                              updateSetScore(2, \"player2Score\", pastedText);\n                            }\n                          }}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                          required={showThirdSet}\n                        />\n                      </div>\n                    </div>\n                    {matchForm.sets[2]?.player1Score && matchForm.sets[2]?.player2Score && (() => {\n                      const error = validateSetScore(parseInt(matchForm.sets[2].player1Score), parseInt(matchForm.sets[2].player2Score));\n                      return error ? (\n                        <p className=\"text-xs text-red-400 mt-1\">{error}</p>\n                      ) : null;\n                    })()}\n                  </div>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    Date du match\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={matchForm.matchDate}\n                    onChange={(e) => setMatchForm({ ...matchForm, matchDate: e.target.value })}\n                    className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-slate-100 focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                    required\n                  />\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={submitting}\n                  className=\"w-full bg-emerald-500 text-slate-900 font-semibold py-2.5 rounded-lg hover:bg-emerald-400 transition disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {submitting \n                    ? (editingMatchId ? \"Modification...\" : \"Enregistrement...\") \n                    : (editingMatchId ? \"Modifier le match\" : \"Enregistrer le match\")}\n                </button>\n              </form>\n            )}\n\n            {/* Liste des matchs */}\n            {matches.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400\">\n                <p>Aucun match enregistr√©</p>\n                <p className=\"text-sm mt-2\">\n                  {showMatchForm\n                    ? \"Remplissez le formulaire ci-dessus pour enregistrer votre premier match\"\n                    : \"Cliquez sur 'Nouveau match' pour commencer\"}\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {matches.map((match) => {\n                  const isPlayer1 = match.player1Id === player?.id;\n                  const opponent = isPlayer1 ? match.player2 : match.player1;\n                  const mySets = isPlayer1 ? match.player1Sets : match.player2Sets;\n                  const opponentSets = isPlayer1 ? match.player2Sets : match.player1Sets;\n                  const won = mySets === 2;\n\n                  const matchDate = new Date(match.matchDate);\n                  const dateStr = matchDate.toLocaleDateString(\"fr-FR\", {\n                    day: \"numeric\",\n                    month: \"long\",\n                    year: \"numeric\",\n                  });\n\n                  return (\n                    <div\n                      key={match.id}\n                      className={`p-4 rounded-lg border ${\n                        won\n                          ? \"bg-emerald-500/10 border-emerald-500/30\"\n                          : \"bg-red-500/10 border-red-500/30\"\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <span className=\"font-semibold text-slate-100\">\n                              {player?.nickname} vs {opponent.nickname}\n                            </span>\n                            <span\n                              className={`text-xs px-2 py-1 rounded ${\n                                won\n                                  ? \"bg-emerald-500/20 text-emerald-400\"\n                                  : \"bg-red-500/20 text-red-400\"\n                              }`}\n                            >\n                              {won ? \"Victoire\" : \"D√©faite\"}\n                            </span>\n                          </div>\n                          <div className=\"flex items-center gap-3 text-sm text-slate-300 mb-2\">\n                            <span>\n                              Sets : <span className=\"font-semibold\">{mySets}</span> -{\" \"}\n                              <span className=\"font-semibold\">{opponentSets}</span>\n                            </span>\n                            <span className=\"text-slate-500\">‚Ä¢</span>\n                            <span>{dateStr}</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n                            {match.set1Player1Score !== null && match.set1Player2Score !== null && (\n                              <span>\n                                {isPlayer1 ? match.set1Player1Score : match.set1Player2Score}-\n                                {isPlayer1 ? match.set1Player2Score : match.set1Player1Score}\n                              </span>\n                            )}\n                            {match.set2Player1Score !== null && match.set2Player2Score !== null && (\n                              <>\n                                <span className=\"text-slate-500\">‚Ä¢</span>\n                                <span>\n                                  {isPlayer1 ? match.set2Player1Score : match.set2Player2Score}-\n                                  {isPlayer1 ? match.set2Player2Score : match.set2Player1Score}\n                                </span>\n                              </>\n                            )}\n                            {match.set3Player1Score !== null && match.set3Player2Score !== null && (\n                              <>\n                                <span className=\"text-slate-500\">‚Ä¢</span>\n                                <span>\n                                  {isPlayer1 ? match.set3Player1Score : match.set3Player2Score}-\n                                  {isPlayer1 ? match.set3Player2Score : match.set3Player1Score}\n                                </span>\n                              </>\n                            )}\n                          </div>\n                        </div>\n                        {/* Bouton Modifier - seulement si le joueur est player1 (celui qui a cr√©√© le match) */}\n                        {isPlayer1 && (\n                          <button\n                            onClick={() => handleEditMatch(match)}\n                            className=\"ml-4 px-3 py-1.5 text-sm bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition\"\n                            title=\"Modifier le match\"\n                          >\n                            Modifier\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      <footer className=\"px-4 sm:px-6 py-4 text-xs text-slate-500 text-center\">\n        <Link href=\"/\" className=\"text-slate-400 hover:text-slate-300\">\n          ‚Üê Retour √† l'accueil\n        </Link>\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}